<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <?if $(var.Platform) = x64 ?>
	<Fragment>
    <DirectoryRef Id="INSTALLLOCATION_BIN" FileSource="$(var.distDir)\bin" DiskId="1">
      <Merge SourceFile="..\..\msm\Microsoft_VC90_CRT_x86_x64.msm" Id="VC_CRT" Language="1033"/>
      <Merge SourceFile="..\..\msm\policy_9_0_Microsoft_VC90_CRT_x86_x64.msm" Id="VC_CRT_Policy" Language="1033"/>
      <!-- Primary Client Applications -->
      <Component Id="svn.exe" Guid="18AA5EE7-8E33-4958-8D75-5F82C87EFAAE" >
        <File Name="svn.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
        <RegistryKey Root="HKLM" Key="SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\svn.exe">
          <RegistryValue Value="[#svn.exe]" Type="string" />
          <RegistryValue Name="Path" Value="[INSTALLLOCATION_BIN]" Type="string" />
        </RegistryKey>
      </Component>
      <Component Id="svnversion.exe" Guid="52811A53-C279-4150-9FC1-E637C5CDA386" >
        <File Name="svnversion.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
        <RegistryKey Root="HKLM" Key="SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\svnversion.exe">
          <RegistryValue Value="[#svnversion.exe]" Type="string" />
          <RegistryValue Name="Path" Value="[INSTALLLOCATION_BIN]" Type="string" />
        </RegistryKey>
      </Component>
      <!-- Local Repository Tools -->
      <Component Id="svnadmin.exe" Guid="728815CB-3AFC-4AFA-9164-47EB36099F0F" >
        <File Name="svnadmin.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
        <RegistryKey Root="HKLM" Key="SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\svnadmin.exe">
          <RegistryValue Value="[#svnadmin.exe]" Type="string" />
          <RegistryValue Name="Path" Value="[INSTALLLOCATION_BIN]" Type="string" />
        </RegistryKey>
      </Component>
      <Component Id="svnsync.exe" Guid="AFB79BCC-A0C4-48DB-9A41-0198BE23899B" >
        <File Name="svnsync.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
        <RegistryKey Root="HKLM" Key="SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\svnsync.exe">
          <RegistryValue Value="[#svnsync.exe]" Type="string" />
          <RegistryValue Name="Path" Value="[INSTALLLOCATION_BIN]" Type="string" />
        </RegistryKey>
      </Component>
      <Component Id="svnlook.exe" Guid="576151C4-9EDE-42B2-B35F-66FE53EE86F1" >
        <File Name="svnlook.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
        <RegistryKey Root="HKLM" Key="SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\svnlook.exe">
          <RegistryValue Value="[#svnlook.exe]" Type="string" />
          <RegistryValue Name="Path" Value="[INSTALLLOCATION_BIN]" Type="string" />
        </RegistryKey>
      </Component>
      <Component Id="svndumpfilter.exe" Guid="3B70B170-8D22-47D1-ACA9-0085E35C57B4" >
        <File Name="svndumpfilter.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
        <RegistryKey Root="HKLM" Key="SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\svndumpfilter.exe">
          <RegistryValue Value="[#svndumpfilter.exe]" Type="string" />
          <RegistryValue Name="Path" Value="[INSTALLLOCATION_BIN]" Type="string" />
        </RegistryKey>
      </Component>
      <Component Id="svnrdump.exe" Guid="73D0A44D-BEA9-4A62-81D0-5F22E1C980CF" >
        <File Name="svnrdump.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
        <RegistryKey Root="HKLM" Key="SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\svnrdump.exe">
          <RegistryValue Value="[#svnrdump.exe]" Type="string" />
          <RegistryValue Name="Path" Value="[INSTALLLOCATION_BIN]" Type="string" />
        </RegistryKey>
      </Component>
      <!-- SvnServe -->
      <Component Id="svnserve.exe" Guid="2AAD3EF2-A846-426D-8EC0-E831DF53799F" >
        <File Name="svnserve.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
        <RegistryKey Root="HKLM" Key="SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\svnserve.exe">
          <RegistryValue Value="[#svnserve.exe]" Type="string" />
          <RegistryValue Name="Path" Value="[INSTALLLOCATION_BIN]" Type="string" />
        </RegistryKey>
      </Component>
      <!-- Extra Tools -->
      <Component Id="svnmucc.exe" Guid="A6CCA081-45A2-4844-8422-1AD2D4B0C7C7" >
        <File Name="svnmucc.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
        <RegistryKey Root="HKLM" Key="SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\svnmucc.exe">
          <RegistryValue Value="[#svnmucc.exe]" Type="string" />
          <RegistryValue Name="Path" Value="[INSTALLLOCATION_BIN]" Type="string" />
        </RegistryKey>
      </Component>
      <Component Id="svnauthz_validate.exe" Guid="E4D2B7B4-A54D-42A7-8FF5-9739C3ACC534" >
        <File Id="svnauthz_validate.exe" Name="svnauthz-validate.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="svn_populate_node_origins_index.exe" Guid="ED6BEE8C-2EF5-42F4-BC90-EA93376A2CFD" >
        <File Id="svn_populate_node_origins_index.exe" Name="svn-populate-node-origins-index.exe" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>            
    </DirectoryRef>
    <DirectoryRef Id="INSTALLLOCATION_BIN" FileSource="$(var.distDir)\bin" DiskId="1">
      <Component Id="DB.dll" Guid="A35469EC-019F-4FB5-95AC-D05F00C2CEFC">
        <File Id="DB44_20.dll" Name="SlikSvn-DB44-20-x64.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="libapr_1.dll" Guid="5E994BC7-065B-4AD3-B478-A1321CBD54A0">
        <File Id="libapr_1.dll" Name="SlikSvn-libapr-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="libaprutil_1.dll" Guid="DD9F5726-1141-4428-8336-EA95BF466989">
        <File Id="libaprutil_1.dll" Name="SlikSvn-libaprutil-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="libeay32.dll" Guid="B68C343C-3DC1-4581-8B32-D8A71DE597B1">
        <File Id="libeay32.dll" Name="SlikSvn-libeay32.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="Sasl.dll" Guid="95BAF7ED-BBA7-41E9-9FFE-9AB81F928D46">
        <File Id="Sasl21_23.dll" Name="SlikSvn-libsasl21.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="ssleay32.dll" Guid="360CA2FC-AE7B-4AB9-A9B9-CD051832E68A">
        <File Id="ssleay32.dll" Name="SlikSvn-ssleay32.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="libintl.dll" Guid="FFE158A2-5145-469F-95E1-6DF9BD8F3602">
        <File Id="libintl.dll" Name="SlikSvn-libintl.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="svn_client_1.dll" Guid="4E57BD93-2D3C-4759-9929-677AD1342198">
        <File Id="svn_client_1.dll" Name="SlikSvn-libsvn_client-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="svn_delta_1.dll" Guid="A917B89C-ED51-47D9-AC16-D4C199E6DFA6">
        <File Id="svn_delta_1.dll" Name="SlikSvn-libsvn_delta-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="svn_diff_1.dll" Guid="5A6BF124-2F00-428A-9DC0-9891A5F7C0CD">
        <File Id="svn_diff_1.dll" Name="SlikSvn-libsvn_diff-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="svn_fs_1.dll" Guid="FD54D8C8-2452-41FC-AA4E-6EDB5D9B0631">
        <File Id="svn_fs_1.dll" Name="SlikSvn-libsvn_fs-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="svn_ra_1.dll" Guid="67C95B4F-20B8-47DB-B771-323A9D25EBCA">
        <File Id="svn_ra_1.dll" Name="SlikSvn-libsvn_ra-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="svn_repos_1.dll" Guid="D79285DA-F161-48BA-8E58-2F93D2AA59C9">
        <File Id="svn_repos_1.dll" Name="SlikSvn-libsvn_repos-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="svn_subr_1.dll" Guid="37D4BC8A-7485-4297-96ED-45CEE238003B">
        <File Id="svn_subr_1.dll" Name="SlikSvn-libsvn_subr-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="svn_wc_1.dll" Guid="3D0B49AF-B64D-457F-9151-966D866E8BF6">
        <File Id="svn_wc_1.dll" Name="SlikSvn-libsvn_wc-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
      <Component Id="libsvnjavahl_1.dll" Guid="665BBB08-90B1-4B1C-828D-8CCBA2B324C6">
        <File Id="libsvnjavahl_1.dll" Name="libsvnjavahl-1.dll" KeyPath="yes" Checksum="yes" Vital="yes" />
      </Component>
    </DirectoryRef>
	</Fragment>
  <?endif?>
</Wix>