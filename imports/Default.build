<?xml version="1.0" ?>
<project basedir="." default="build">
  <property name="svnBuildType" value="tag" overwrite="false" />
  <property name="serfBuildType" value="tag" overwrite="false" />
  <property name="httpdBuildType" value="tag" overwrite="false" />

  <property name="guessedPlatform" value="win32" />
  <if test="${environment::variable-exists('LIB')}">
    <property name="guessedPlatform" value="x64" if="${string::contains(string::to-upper(environment::get-variable('LIB')),'LIB\AMD64')}" />
  </if>

  <property name="platform" value="${guessedPlatform}" if="${not property::exists('platform')}" />

  <!-- -->
  <property name="subversionVersion" value="1.9.0-alpha2" overwrite="false" />
  <!-- r1575018                - Properly store author when retrieving directory entries -->
  <!-- 1575319,1575322,1576313 - Resolve segfault on early close of first serf request -->
  <!-- r1580816                - Allocate dirent properly (old ra_svn) -->
  <!-- r1581401                - Cleanup after BDB create error -->
  <!-- r1581605                - Improve error message on file install failure -->
  <!-- r1582023,1582047,1582274- Serf correctness fix against <= 1.6 servers -->
  <!-- 1582230,1582231         - Don't break on svn+ssh polling -->
  <!-- r1654027                - Fix OpenSSL version probing -->
  <property name="subversionMerges" value="1575018,1575319,1575322,1576313,1580816,1581401,1581605,1582023,1582047,1582274,1582230,1582231,1654027" overwrite="false" />
  <property name="subversionMergeBranches" value="" overwrite="false" />
  <property name="svnAddSharpSvn" value="true" overwrite="false" />
  <property name="aprMerges" value="" overwrite="false" />
  <property name="aprutilMerges" value="" overwrite="false" />
  <property name="neonMerges" value="" overwrite="false" />
  <!-- r2184-r2186      - Return connection timeouts as a specific error -->
  <!-- r2254            - Possible bucket leak in cancel scenarios -->
  <!-- r2455,r2463-r2464- Properly validate status line -->
  <!-- r2456-r2457      - Correctness fixes to help debugging -->
  <property name="serfMerges" value="2184-2186,2254,2455,2456-2457,2463-2464" overwrite="false" />

  <!-- -->
  <property name="opensslVersion" value="1.0.2" overwrite="false" />
  <property name="neonVersion" value="0.30.1" overwrite="false" />

  <property name="aprVersion" value="1.5.1" overwrite="false" />
  <property name="aprUtilVersion" value="1.5.4" overwrite="false" />
  <property name="aprIconvVersion" value="1.2.1" overwrite="false" />
  <property name="dbVersion" value="4.4.20" overwrite="false" />
  <property name="expatVersion" value="2.1.0" overwrite="false" />
  <property name="zlibVersion" value="1.2.8" overwrite="false" />
  <property name="serfVersion" value="1.3.8" overwrite="false" />
  <property name="saslVersion" value="2.1.26" overwrite="false" />
  <property name="swigVersion" value="3.0.2" overwrite="false" />
  <property name="nasmVersion" value="2.11.06" overwrite="false" />
  <property name="pcreVersion" value="8.33" overwrite="false" />
  <property name="httpdVersion" value="2.4.10" overwrite="false" />
  <property name="gettextVersion" value="0.18.3" overwrite="false" />
  <property name="sqliteVersion" value="3.8.8.1" overwrite="false" />
  <property name="libssh2Version" value="1.4.3" overwrite="false" />

  <!-- Building only -->
  <property name="cmakeVersion" value="2.8.12.2" overwrite="false" />
  <property name="sconsVersion" value="2.3.4" overwrite="false" />

  <!-- For testcase -->
  <property name="nunitVersion" value="2.6.3" overwrite="false" />
  <property name="sharpZipVersion" value="0860" overwrite="false" />
  <property name="junitVersion" value="4.8.1" overwrite="false" />

  <!-- Prefer http or https -->
  <property name="httpOrHttps" value="http" />

  <!-- Prefix to use for dependency DLL's -->
  <property name="dllPrefix" value="SharpSvn-" overwrite="false" />
  <property name="svnDll" value="svnDll" overwrite="false" />

  <property name="vcVarsPath" value="C:\Program Files\Microsoft Visual Studio 9.0\VC" />
  <property name="buildJavaHL" value="false" overwrite="false" />

  <include buildfile="scripts/default.build" />

  <target name="help">
    <echo>
      The following targets are defined
      - build      - Build all
      - clean      - Clean all
      - distclean  - Clean all + clean downloads
      - clean-svn  - Clean+Update subversion

      Use nant /D:platform=x64 to build/clean the x64 binaries if autodetect fails

      The following targets try to start nant within the specified context using vcvars.cmd
      - x86
      - x64
    </echo>
  </target>
</project>
